'use strict';var initialColors,colorDivs=document.querySelectorAll("div.color"),generateBtn=document.querySelector("button.generate"),sliders=document.querySelectorAll("div.sliders input"),currentHexes=document.querySelectorAll("div.color h2"),copyPopup=document.querySelector("section.copy-container"),adjustButton=document.querySelectorAll(".adjust"),closeAdjustment=document.querySelectorAll("button.close-adjustment"),sliderContainers=document.querySelectorAll("div.sliders"),lockButton=document.querySelectorAll("button.lock"),saveButton=document.querySelector("button.save"),saveContainer=document.querySelector("section.save-container"),closeSave=saveContainer.querySelector("button.close-save"),submitButton=saveContainer.querySelector("button.submit-save"),saveInput=document.querySelector("input.save-name"),toastMessage=document.querySelector("span.toast-message"),libraryContainer=document.querySelector("section.library-container"),paletteList=libraryContainer.querySelector("#palettes-list"),libraryBtn=document.querySelector("button.library"),closeLibrary=document.querySelector("button.close-library"),infoMessage=document.querySelector("span.info-message"),removed=paletteList.querySelector("div.removed"),savedPalettes=[];
"use strict";function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(c):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function GerenateHex(){return chroma.random()}function CheckTextContrast(a,b,c){var d=chroma(a).luminance();return b.style.color=.5<d?"#2e2e2e":"#dddddd",!c||(b.innerText=c)}function ColorizeSliders(a,b,c,d){var e=a.set("hsl.s",0),f=a.set("hsl.s",1),g=chroma.scale([e,a,f]),h=a.set("hsl.l",.5),i=chroma.scale(["#000000",h,"#ffffff"]);d.style.backgroundImage="linear-gradient(to right, \n    ".concat(g(0),", \n    ").concat(g(1),"\n  )"),c.style.backgroundImage="linear-gradient(to right, \n    ".concat(i(0),", \n    ").concat(i(.5),",\n    ").concat(i(1),"\n  )"),b.style.backgroundImage="linear-gradient(to right, \n    rgb(204, 75, 75), \n    rgb(204, 204, 75), \n    rgb(75, 204, 75), \n    rgb(75, 204, 204), \n    rgb(75, 75, 204), \n    rgb(204, 75, 204), \n    rgb(204, 75, 75))"}function RandomColors(){initialColors=[],colorDivs.forEach(function(a){var b=a.children[0],c=GerenateHex(),d=a.querySelectorAll("div.controls button");if(a.classList.contains("locked"))return initialColors.push(b.innerText);for(var e in a.style.backgroundColor=c,initialColors.push(c.hex()),CheckTextContrast(c,b,c),d)d.hasOwnProperty(e)&&CheckTextContrast(c,d[e]);var f=chroma(c),g=a.querySelectorAll("div.sliders input"),h=g[0],i=g[1],j=g[2];ColorizeSliders(f,h,i,j)}),ResetInputs()}function HslControls(a){var b=a.target.getAttribute("data-hue")||a.target.getAttribute("data-brightness")||a.target.getAttribute("data-saturation"),c=a.target.parentElement.querySelectorAll("input[type='range']"),d=c[0],e=c[1],f=c[2],g=initialColors[b],h=chroma(g).set("hsl.h",d.value).set("hsl.l",e.value).set("hsl.s",f.value);colorDivs[b].style.backgroundColor=h,ColorizeSliders(h,d,e,f)}function updateText(a){var b=colorDivs[a],c=chroma(b.style.backgroundColor).hex(),d=b.querySelector("h2"),e=b.querySelectorAll("div.controls button");for(var f in CheckTextContrast(c,d,c),e)e.hasOwnProperty(f)&&CheckTextContrast(c,e[f])}function ResetInputs(){var a;sliders.forEach(function(b){var c=Math.floor;switch(a=initialColors[b.getAttribute("data-".concat(b.name))],b.name){case"hue":b.value=c(chroma(a).hsl()[0]);break;case"saturation":b.value=c(100*chroma(a).hsl()[1])/100;break;case"brightness":b.value=c(100*chroma(a).hsl()[2])/100;}})}function CopyToClipboard(a){var b=document.createElement("textarea");b.value=a.innerText,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),copyPopup.classList.add("active"),copyPopup.firstElementChild.style.animation="fadeIn 600ms cubic-bezier(0.26, -0.08, 0.15, 1.37) forwards"}function ToggleAdjustmentPanel(a){sliderContainers[a].classList.toggle("active")}function ToggleLockColor(a){lockButton[a].firstElementChild.innerText=colorDivs[a].classList.toggle("locked")?"lock":"lock_open"}function OpenPalette(){saveContainer.classList.add("active"),saveContainer.firstElementChild.style.animation="fadeIn 600ms cubic-bezier(0.26, -0.08, 0.15, 1.37) forwards",saveInput.focus()}function OpenLibrary(){libraryContainer.classList.add("active"),libraryContainer.firstElementChild.style.animation="fadeIn 600ms cubic-bezier(0.26, -0.08, 0.15, 1.37) forwards"}function ToastMessage(a,b){var c=toastMessage.children[1],d=toastMessage.children[0].innerText=b;return toastMessage.classList.toggle("active")?void("success"===a?(toastMessage.classList.remove("error"),toastMessage.classList.add("success"),c.innerText="thumb_up"):(toastMessage.classList.add("error"),toastMessage.classList.remove("success"),c.innerText="thumb_down")):ToastMessage(a,b)}function SavePalette(){var a=saveInput.value,b=[];if(!a)return ToastMessage("error","Name not entered!");currentHexes.forEach(function(a){b.push(a.innerText)});var c={name:a,colors:b};savedPalettes.push(c),saveInput.value="",StorePalette(c)}function RenderElementLibrary(a){var b=document.createElement("div"),c=document.createElement("h4"),d=document.createElement("div"),e=document.createElement("button");e.classList.add("remove-palette"),e.innerText="X",b.classList.add("custom-palette"),d.classList.add("small-preview"),c.innerText=a.name,a.colors.forEach(function(a){var b=document.createElement("div");b.style.backgroundColor=a,d.appendChild(b)});var f=document.createElement("button");f.classList.add("pick-palette-btn"),f.innerText="Select",b.appendChild(e),b.appendChild(c),b.appendChild(d),b.appendChild(f),paletteList.appendChild(b),f.addEventListener("click",function(){closeLibrary.dispatchEvent(new Event("click")),initialColors=[],a.colors.forEach(function(a,b){initialColors.push(a),colorDivs[b].style.backgroundColor=a;var c=colorDivs[b].children[0];CheckTextContrast(a,c),updateText(b)}),ResetInputs(),sliders.forEach(function(a){a.dispatchEvent(new Event("input"))})}),e.addEventListener("click",function(a){var b=a.target,c=b.parentElement,d=c.parentElement.children,e=_toConsumableArray(d).indexOf(c);RemovePalette(e,c),c.classList.add("removed")})}function StorePalette(a){var b=[];return null!==localStorage.getItem("palettes")&&(b=JSON.parse(localStorage.getItem("palettes"))),b.push(a),localStorage.setItem("palettes",JSON.stringify(b)),closeSave.dispatchEvent(new Event("click")),RenderElementLibrary(a),ToastMessage("success","Saved successfully!")}function RemovePalette(a,b){var c=[];if(null!==localStorage.getItem("palettes")){c=JSON.parse(localStorage.getItem("palettes")),delete c[a];var d=[];c.forEach(function(a){d.push(a)}),localStorage.setItem("palettes",JSON.stringify(d)),setTimeout(function(){b.remove()},600)}}function GetPalettes(){var a=[];null!==localStorage.getItem("palettes")&&(a=JSON.parse(localStorage.getItem("palettes"))),a.forEach(function(a){RenderElementLibrary(a)})}RandomColors(),GetPalettes();
"use strict";sliders.forEach(function(a){a.addEventListener("input",HslControls)}),colorDivs.forEach(function(a,b){a.addEventListener("input",function(){updateText(b)})}),currentHexes.forEach(function(a){a.addEventListener("click",function(){CopyToClipboard(a)})}),copyPopup.firstElementChild.addEventListener("animationend",function(a){return"fadeOut"===a.target.style.animationName?a.target.closest("section").classList.remove("active"):void setTimeout(function(){a.target.style.animation="fadeOut 500ms ease-out forwards"},700)}),adjustButton.forEach(function(a,b){a.addEventListener("click",function(){ToggleAdjustmentPanel(b)}),closeAdjustment[b].addEventListener("click",function(){ToggleAdjustmentPanel(b)}),lockButton[b].addEventListener("click",function(){ToggleLockColor(b)})}),generateBtn.addEventListener("click",RandomColors),saveButton.addEventListener("click",OpenPalette),saveContainer.firstElementChild.addEventListener("animationend",function(a){if("fadeOut"===a.target.style.animationName)return a.target.closest("section").classList.remove("active")}),closeSave.addEventListener("click",function(){saveContainer.firstElementChild.style.animation="fadeOut 600ms cubic-bezier(0.26, -0.08, 0.15, 1.37) forwards"}),saveInput.addEventListener("keyup",function(a){a.stopPropagation();var b=a.which||a.keyCode;13===b&&SavePalette()}),saveContainer.firstElementChild.addEventListener("click",function(a){a.stopPropagation()}),saveContainer.addEventListener("click",function(){closeSave.dispatchEvent(new Event("click"))}),submitButton.addEventListener("click",function(){SavePalette()}),toastMessage.addEventListener("transitionend",function(a){var b=a.target;b.classList.contains("active")&&setTimeout(function(){b.classList.remove("active")},1700)}),libraryBtn.addEventListener("click",OpenLibrary),libraryContainer.firstElementChild.addEventListener("animationend",function(a){if("fadeOut"===a.target.style.animationName)return a.target.closest("section").classList.remove("active")}),closeLibrary.addEventListener("click",function(){libraryContainer.firstElementChild.style.animation="fadeOut 300ms cubic-bezier(0.26, -0.08, 0.15, 1.37) forwards"}),libraryContainer.firstElementChild.addEventListener("click",function(a){a.stopPropagation()}),libraryContainer.addEventListener("click",function(){closeLibrary.dispatchEvent(new Event("click"))}),document.addEventListener("keyup",function(a){var b=a.which||a.keyCode;32===b&&RandomColors()}),infoMessage.addEventListener("animationend",function(a){var b=a.target;b.style.opacity="0",setTimeout(function(){b.remove()},500)});